#include <bits/stdc++.h>
using namespace std;
class Solution {
  public:
    int maxFrequency(vector<int> &nums, int k) {
        sort(nums.begin(), nums.end());
        int n = nums.size();
        int arr[n];
        arr[0] = 0;
        for (int i = 1; i < n; i++) { arr[i] = nums[i] - nums[i - 1]; }
        int res = 1;
        for (int i = 0; i < n - 1; i++) {
            if (i > 0 && nums[i] == nums[i - 1]) continue;
            int t = 0;
            for (int j = i + 1; j < n; j++) {
                // if (j < n - 1 && nums[j] == nums[j + 1]) continue;
                t = t + (j - i) * arr[j];
                if (t > k) break;
                res = max(res, j - i + 1);
            }
        }
        return res;
    }
};
int main() {
    Solution so;
    vector<int> nums = {9930, 9923, 9983, 9997, 9934, 9952, 9945, 9914, 9985, 9982, 9970,  9932, 9985, 9902, 9975, 9990, 9922, 9990, 9994, 9937, 9996, 9964,
                        9943, 9963, 9911, 9925, 9935, 9945, 9933, 9916, 9930, 9938, 10000, 9916, 9911, 9959, 9957, 9907, 9913, 9916, 9993, 9930, 9975, 9924,
                        9988, 9923, 9910, 9925, 9977, 9981, 9927, 9930, 9927, 9925, 9923,  9904, 9928, 9928, 9986, 9903, 9985, 9954, 9938, 9911, 9952, 9974,
                        9926, 9920, 9972, 9983, 9973, 9917, 9995, 9973, 9977, 9947, 9936,  9975, 9954, 9932, 9964, 9972, 9935, 9946, 9966};
    vector<int> nums1 = {1, 5, 7, 12, 33};
    vector<int> nums2 = {9926, 9960, 10000, 9992, 9917, 9986, 9934, 9985, 9977, 9950, 9922, 9913, 9971, 9978, 9984, 9959, 9934, 9948, 9918, 9916, 9967,
                         9965, 9985, 9977,  9988, 9983, 9900, 9945, 9913, 9966, 9968, 9986, 9939, 9914, 9980, 9957, 9921, 9927, 9917, 9972, 9974, 9953,
                         9984, 9912, 9975,  9920, 9966, 9932, 9921, 9904, 9928, 9959, 9993, 9937, 9934, 9974, 9937, 9964, 9922, 9963, 9991, 9930, 9944,
                         9930, 9982, 9980,  9967, 9904, 9955, 9947, 9924, 9973, 9997, 9950, 9905, 9924, 9990, 9947, 9953, 9924, 9977, 9938, 9951, 9982,
                         9932, 9926, 9928,  9912, 9917, 9929, 9924, 9921, 9987, 9910, 9927, 9921, 9929, 9937, 9919, 9995, 9949, 9953};
    vector<int> nums3 = {1, 2, 4};
    vector<int> nums4 = {
        9979, 9938, 9947, 9916, 9995, 9981, 9981, 9931, 9984, 9942, 9946, 9946, 9945, 9931, 9908, 9920, 9929, 9917, 9904, 9945, 9963,  9910, 9942, 9965, 9915,
        9981, 9908, 9919, 9975, 9904, 9934, 9922, 9989, 9946, 9928, 9928, 9940, 9941, 9995, 9905, 9903, 9980, 9917, 9940, 9910, 9994,  9909, 9965, 9972, 9931,
        9975, 9913, 9983, 9943, 9996, 9917, 9994, 9991, 9948, 9961, 9921, 9981, 9928, 9933, 9905, 9957, 9953, 9940, 9958, 9982, 9900,  9912, 9959, 9992, 9978,
        9988, 9940, 9985, 9945, 9900, 9956, 9976, 9972, 9914, 9903, 9978, 9965, 9987, 9926, 9963, 9968, 9962, 9995, 9963, 9960, 9986,  9916, 9911, 9976, 9988,
        9952, 9914, 9934, 9929, 9962, 9999, 9988, 9901, 9925, 9983, 9991, 9915, 9930, 9949, 9931, 9944, 9947, 9921, 9982, 9984, 9998,  9945, 9907, 9900, 9992,
        9945, 9995, 9941, 9930, 9918, 9961, 9960, 9900, 9952, 9952, 9954, 9976, 9970, 9990, 9947, 9910, 9908, 9935, 9971, 9971, 10000, 9941, 9983, 9949, 9985,
        9992, 9996, 9918, 9930, 9994, 9970, 9989, 9975, 9960, 9973, 9993, 9900, 9915, 9974, 9966, 9978, 9926, 9937, 9936, 9952, 9996,  9996, 9912, 9915, 9976,
        9976, 9901, 9926, 9959, 9989, 9976, 9904, 9999, 9925, 9934, 9947, 9950, 9985, 9985, 9932, 9922, 9962, 9962, 9993, 9912, 9924,  9992, 9941, 9959, 9954,
        9943, 9995, 9992, 9928, 9992, 9920, 9984, 9917, 9976, 9971, 9927, 9917, 9923, 9948, 9929, 9990, 9990, 9921, 9989, 9910, 9921};
    // int res = so.maxFrequency(nums, 3056); // 73
    // int res = so.maxFrequency(nums1, 23);
    // int res = so.maxFrequency(nums3, 5);
    // int res = so.maxFrequency(nums2, 3044); // 82
    int res = so.maxFrequency(nums4, 2636);
    cout << res;
    return 0;
}